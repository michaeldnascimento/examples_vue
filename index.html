<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./vue.js"></script>
    <!--<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>-->
    <title>Document</title>
    <style>
        .verde {
            background-color: green;
        }

        .branco {
            background-color: white;
        }

        .negrito {
            font-weight: bold;
        }
        
        .azul {
            background-color: blue;
        }

        .vermelho {
            background-color: red;
        }


        .borda{
            border: 1px solid;
        }

        .div-principal {
            width: 200px;
            height: 200px;
        }


        .div-comum {
            width: 50px;
            height: 50px;
        }

    </style>
</head>
<body>
    <div id="app">

        <!-- watch -->
        <span>Paciente: </span><input type="text" v-model="paciente">
        <br>
        <ul>
            <li v-for="p in lista">{{p.nome}}, {{p.idade}}</li>
        </ul>

        <!-- Usando o v-model - praticando two-way-data binding 
        {{ paciente }}<br>
        <input type="text" v-bind:value="paciente" v-on:keyup="setPaciente($event)"> ex modo convencional
        <input type="text" v-model="paciente"> usando o v-model muito mais simplificada sem combinação de diretivas
        <hr>

        <input type="radio" value="f" v-model="sexo"> Feminino
        <input type="radio" value="m" v-model="sexo"> Masculino
        <br> {{ sexo }}
        <hr>

        <select v-model="plano">
            <option value="" disabled>Selecione um Plano</option>
            <option value="1">Básico 1</option>
            <option value="2">Básico 2</option>
            <option value="3">Master</option>
        </select>
        <br> {{ plano }}

        <hr>
        <input type="checkbox" value="100" v-model="doencas"> Asma
        <input type="checkbox" value="101" v-model="doencas"> Diabetes
        <input type="checkbox" value="102" v-model="doencas"> Rinite
        <br> {{ doencas }}

        <hr>
        <textarea v-model="diagnostico"></textarea>
        <br> {{ diagnostico } 
        -->


        <!-- Usando propriedades computadas - computed 
        <h4>Adicionar paciente</h4>
        <span>Nome:</span><input type="text" id="inputNome"></br>
        <span>Idade:</span><input type="text" id="inputIdade"></br>
        <span>Plano:</span><input type="text" id="inputPlano"></br>
        <button @click="adicionarPaciente()">Adicionar</button>
        <hr>

        <h4>Ultimo paciente cadastrado</h4>
        <p v-if="pacientes.length > 0">
            {{ ultimoPaciente }}
        </p>
        <hr>

        <h4>Pacientes do plano Ouro</h4>
        <p v-for="p in pacientesPlanoOuro"> {{ p.nome }}</p>
        <hr>

        <h4>Pacientes Cadastrados</h4>
        <p v-for="p in pacientes">{{p.nome}}</p>

    -->

        <!-- renderização condicional 
        <template v-if="saudacao">
            <h1>Boas-vindas</h1>
            <p> Conteúdo da tag <strong>Template</strong></p>
        </template>

        <ul>
            <template v-for="n in 10">{{n}}
            <p>2 x {{n}} = {{2*n}}</p>
            </template>
        </ul>

        -->

        <!-- trabalhando com laços de repetição 
        <ul>
            <li v-for="c in comentarios">{{c.id}} - {{c.comentario}}</li>
        </ul>
        <button @click="adicionarElemento()">add elemento</button>
        <button @click="removerElemento()">remover elemento</button>
        <button @click="modificarElemento()">Modificar elemento</button>
        <hr>

        <ul>
            <li v-for="n in 5">{{n}}</li>
        </ul>

        -->

        <!-- laço de repetição v-for
        <ul>
            <li v-for="(curso, chave) in cursos" v-text="chave +' - '+ curso"></li>
            <li v-for="(curso, chave) in cursos">{{chave}} - {{curso}}</li> sen ultilizar o v-text 
        </ul>
        <hr>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Titulo</th>
                    <th>Descricao</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(curso, chave) in cursos2">
                    <td>{{ chave }}</td>
                    <td>{{ curso.titulo }}</td>
                    <td>{{ curso.descricao }}</td>
                </tr>
            </tbody>
        </table>
        <hr>
        <ul>
            <li v-for="p in publicacoes" style="border: solid 1px; margin-bottom: 10px;" :key="p.id">
                <div>
                    {{ p.publicacao }}
                    <hr>
                    <input type="text">
                </div>
            </li>
        </ul>
        <button @click="misturarArray()">Misturar Pub</button
        -->

        <!-- elementos HTML renderizado apenas uma vez - v-once
        <p v-once>Saldo incial: {{ saldo }}</p>
        <p>Saldo atualizado: {{ saldo }}</p>
        <input type="text" id="valor">
        <button @click="creditar()">Creditar</button>
        <button @click="debitar()">Debitar</button>
        -->


        <!-- Insetar elementos HTML v-html e v-text
        <div v-html="elementosHTML"></div>
        <div v-text="elementosHTML"></div>
        -->


        <!-- CONDICIONAL DE ELEMENTO **** v-show
        <p @mouseover="exibirTextoAjuda = true" @mouseout="exibirTextoAjuda = false">Exemplo tooltip</p>
        <div v-show="exibirTextoAjuda">
            <h3>Titulo texto ajuda</h3>
            <p>Conteudo texto ajuda</p>
        </div>
        -->

        <!-- CONDICIONAL DE ELEMENTO **** v-if simples
        <button @click="exibirSaldo = !exibirSaldo">
            <span v-if="!exibirSaldo">Exibir Saldo</span>
            <span v-if="exibirSaldo">Ocultar Saldo</span>
        </button>
        <p>Saldo: <span v-if="exibirSaldo" >R$ {{ saldo }}</span></p>
        -->

        <!-- CONDICIONAL DE ELEMENTO **** v-if e v-else
        Idade: <input type="text" id="inputIdade" @blur="setIdade()">
        <p v-if="idade < 18">Menor de idade</p>
        <p v-else>Maior de idade</p>
        -->

        <!-- CONDICIONAL DE ELEMENTO **** v-if, v-else e v-else
        Nota: <input type="text" id="inputNota" @blur="setNota()">
        <p v-if="nota == ''">Digite a nota do aluno</p>
        <p v-else-if="nota >= 7 && nota <= 10">Aluno aprovado</p>
        <p v-else-if="nota >= 5 && nota <= 7">Aluno em recuperação</p>
        <p v-else-if="nota >= 0 && nota <= 5">Aluno reprovado</p>
        <p v-else>Nota informada é inválida</p>
        -->


        <!-- selecionar elementos html e suas propriedades por ID 
        <input type="text" id="inputTexto">
        <select id="opcoes">
            <option value="A">Opção A</option>
            <option value="B">Opção B</option>
            <option value="C">Opção C</option>
        </select>
        <div id="bloco">Conteudo interno da div</div>
        <p id="paragrafo" style="color: red;">Parágrafo</p>
        <button @click="selecionarElementoFilho()">Botão</button>
        -->

        <!-- Diretivas V-On Implementando modificadores

        <a href="https://michael.net.br"
            target="_blank"
            v-on:click.prevent="prevenirComportamentoPadrao()"
        >
        Link
        </a>
        Mensagem:  {{ msg }}
        <hr>
        <button @click.once="executarUmaVez()">Botão</button>
        <p>Cliques: {{ cliques }}</p>
        <hr>
        <form action="" @submit.prevent.once="previnirUmaVez()"> prevent.once prevenir somente uma vez 
            <button type="submit">Enviar</button>
        </form>
        <p>Formulario: {{ formulario }}</p>

        <hr>
        <input type="text" @keyup="capturandoTeclas($event)">  keyup metodo de capturas de teclas, se executar ex: keyup.x só dispara o evento se a tecla clicada for x 
        <p>Teclas: {{ teclas }}</p>
        <
        <!-- Diretiva v-on - se usar o @ antes é a mesma diretiva - chamando e passando paramentros para o método
        <input type="text" @keyup="imprimirTexto('Enviando parametro', 5)">
        usando o $event para envio de evento
        <button v-on:click="mensagemAlerta($event, 'texto', 100)">Botão</button>
        -->

        <!-- Data biding
        {{ mensagem.substr(0,3) }}
        {{ mensagem.length }}
        {{ 2 + 2 }}
         <input :value="2 + 2" :class="1 == 2 ? 'verde' : estilo"> exemplo de espressão
         <input :value="2 + 2" :class="teste ? 'verde' : estilo"> exemplo de espressão
        -->

        <!-- Sugar
        <a :href="site" >Site</a>
        <p :class="cor" class="negrito">Entendendo a diretiva v-bind</p>
        <input type="text" :planceholder="instrucaoDePreenchimento" :value="valor">
        <input type="checkbox" :checked="check">
        -->

        <!-- v-bind
        <a v-bind:href="site">Site</a>
        <p v-bind:class="cor">Entendendo a diretiva v-bind</p>
        <input type="text" v-bind:planceholder="instrucaoDePreenchimento" v-bind:value="valor">
        <input type="checkbox" v-bind:checked="check">
        -->

        <!--
        {{ somar() }}<br>
        {{ subtrair() }}<br>
        {{ multiplicar() }}<br>
        {{ dividir() }}<br>
        -->

        <!--
        {{ mensagem }}<br>
        Valor Total: {{ valorTotal }}<br>
        Logado: {{ logado }}<br>
        Hobbies: {{ hobbies[3] }}<br>
        perfil: {{ perfil.site }}, {{ perfil.cursos[0].nome }}<br>
        -->

    </div>

    <script>

    /** watch */
    const vm = new Vue({

    el: '#app',
    data: {
        paciente: '',
        pacientes: [
            {nome: 'Michael Douglas', idade: 32},
            {nome: 'Michele A.', idade: 20},
            {nome: 'Michel Souza', idade: 22},
            {nome: 'Marcos Silva', idade: 44},
            {nome: 'Monique Abe.', idade: 11},
        ],
        lista: []
    },
    methods: {

    },
    computed: {},
    watch: {
        paciente(valorNovo) {
            console.log(valorNovo)
            this.lista = this.pacientes.filter(p => p.nome.match(valorNovo))
        }
    } 
    });

    /** Usando o v-model - praticando two-way-data binding 
    const vm = new Vue({

    el: '#app',
    data: {
        paciente: 'João',
        sexo: '',
        plano: '',
        doencas: [],
        diagnostico: ''
    },
    methods: {
        setPaciente(e) {
            this.paciente = e.target.value
        }
    }
    });
    */

    /** Usando propriedades computadas - computed 
    const vm = new Vue({

    el: '#app',
    data: {
        pacientes: []
    },
    methods: {
        adicionarPaciente() {
            this.pacientes.push({
                nome: inputNome.value,
                idade: inputIdade.value,
                plano: inputPlano.value,
            })
        }
    },
    computed: {
        //formando a logica dentro da diretiva computed
        ultimoPaciente() {
            let key = this.pacientes.length - 1
            let txt = ''

            txt += 'Paciente ' + this.pacientes[key].nome
            txt += ', Idade ' + this.pacientes[key].idade
            txt += ', Plano ' + this.pacientes[key].plano

            return txt.toUpperCase()
        },
        pacientesPlanoOuro() {
            return this.pacientes.filter(item => item.plano == 'Ouro')
        }
    }
    });
    */


    /**renderização condicional 
    const vm = new Vue({

    el: '#app',
    data: {
        saudacao: true
    },
    methods: {

    }
    });
    */

    /** trabalhando com laços de repetição 
        
    const vm = new Vue({

    el: '#app',
    data: {
        comentarios: [
            {id: 1, comentario: 'coment 1'},
            {id: 2, comentario: 'coment 2'},
            {id: 3, comentario: 'coment 3'},
        ],
        cursos: ['Laravel', 'Web Completo', 'Banco de dados', 'Solid', 'Angula'],
        cursos2: {
            1000: { titulo: 'Laravel', descricao: 'Domine o framework PHP'},
            1001: { titulo: 'Banco de dados', descricao: 'Aprenda os principais BDs'}
        },
        publicacoes: [
            { id: 1, publicacao: 'Pub 1'},
            { id: 2, publicacao: 'Pub 2'},
            { id: 3, publicacao: 'Pub 3'}
        ]
    },
    methods: {
            misturarArray() {
                let misturado = []

                misturado[0] = this.publicacoes[2]
                misturado[1] = this.publicacoes[0]
                misturado[2] = this.publicacoes[1]
                
                this.publicacoes = misturado
            },
            adicionarElemento() {
                //this.comentarios[3] = {id: 4, comentario: 'Novo Comentário'}
                //console.log(this.comentarios)
                this.comentarios.push({id: 4, comentario: 'Novo Comentário'})
            },
            removerElemento() {
                this.comentarios.pop()
            },
            modificarElemento() {
                //this.comentarios[1] = {id: 2, comentario: 'Comentario 2 atualizado'}
                //console.log(this.comentarios)
                this.$set(this.comentarios, 1, {id: 2, comentario: 'Comentário 2 atualizado'})
            }
    }
    });
    */

    /** elementos HTML renderizado apenas uma vez - v-once
    const vm = new Vue({

    el: '#app',
    data: {
        saldo: 1100
    },
    methods: {
        creditar(){
            this.saldo += parseFloat(valor.value)
        },
        debitar(){
            this.saldo -= parseFloat(valor.value)
        }
    }
    });
    */

    /** Insetar elementos HTML v-html e v-text
    const vm = new Vue({

    el: '#app',
    data: {
        elementosHTML: '<p><b>Site</b></p><a href="https://michael.net.br">Michael</a>'
    },
    methods: {}
    });
    */

    /** CONDICIONAL DE ELEMENTO **** v-show
    const vm = new Vue({

    el: '#app',
    data: {
        exibirTextoAjuda: false
    },
    methods: {

    }
    });
    */

    /** CONDICIONAL DE ELEMENTO **** 
    const vm = new Vue({

        el: '#app',
        data: {
            saldo: 4570.50,
            exibirSaldo: false,
            idade: 0,
            nota: 0
        },
        methods: {
            setIdade() {
                this.idade = inputIdade.value
                console.log(inputIdade.value)
            },
            setNota() {
                this.nota = inputNota.value
                console.log(this.nota)
            }
        }
    });
    */

    /** selecionar elementos html e suas propriedades por ID 
        const vm = new Vue({

        el: '#app',
        data: {


        },
        methods: {
                selecionarElementoFilho() {
                    console.log(inputTexto.value)
                    console.log(opcoes.value)
                    console.log(paragrafo.style.color)
                    console.log(bloco.innerHTML)
                }
            }
        }

        );
        */

     /** Diretivas V-On Implementando modificadores
        const vm = new Vue({

            el: '#app',
            data: {
                msg: '',
                cliques: 0,
                formulario: '',
                teclas: ''

            },
            methods: {
                prevenirComportamentoPadrao() {
                    event.preventDefault()
                    this.msg = 'Comportamento padrão ativado'
                },
                executarUmaVez() {
                    this.cliques++
                },
                previnirUmaVez() {
                    this.formulario = 'Prevenindo o comportamento padrão'
                },
                capturandoTeclas(event) {
                    this.teclas += event.key
                }
            }

        });

        */

        /** Praticando com data, methods, template string, v-bind e v-on
        const vm = new Vue({

        el: '#app',
        data: {
            cor: 'branco',
            posicaoX: 0,
            posicaoY: 0

        },
        methods: {
            mudarCor(c) {
                this.cor = c
                console.log(c)
            },
            coordenadas(e) {
                this.posicaoX =  e.clientX
                this.posicaoY =  e.clientY
                console.log(e.clientX, e.clientY)
            }
        }

        });
        */

    /**
    const vm = new Vue({

    el: '#app',
    data: {
        xyz: true
    },
    methods: {
        imprimirTexto(t, n) {
            console.log(t)
            console.log(n)
            //console.log(x)
            console.log(this.xyz) // ou
        },
        mensagemAlerta(evento, p1, p2) {
            alert('Mensagem alerta')
            console.log(evento, p1, p2)
        }
    }

    });

    */

    /**

    const vm = new Vue({

    el: '#app',
    data: {
        mensagem: 'Expressão',
        estilo: 'azul',
        teste: true
    },
    methods: {}

    });

    */



    /**

    el: '#app',
    data: {
        site: 'https://michael.net.br',
        cor: 'verde',
        instrucaoDePreenchimento: 'Placeholder - Diretiva v-bind',
        valor: 'Entendendo a diretiva v-bind',
        check: true
    },
    methods: {}

    });

    */
        

    /**
    const vm = new Vue({

        el: '#app',
        data: {
            n1: 10, //através do this é possivel acessar os valores contido no datas
            n2: 5
        },
        methods: {
            somar: function somar() { //convencional
                return this.n1 + this.n2;
            },
            subtrair: function() { //anônima
                return this.n1 - this.n2;
            },
            multiplicar: () => { //arrow function
                return this.n1 * this.n2; //contexto léxico
            },
            dividir(){ //forma enxuta de definir os pares de chave/valor
                return this.n1 / this.n2;
            }
        }

    });
    */

    /**
    const vm = new Vue({

    el: '#app', //# para selecionar o id | . para selecionar por class
    data: { //variaveis/atriputos reativos
        mensagem: 'Primeiro template controlado pelo Vue', //string
        valorTotal: 150.47, //numero
        logado: false, //booleano
        hobbies: [
            'Dormir',
            'Colecionar games',
            'Correr',
            'Trilas'
        ],
        perfil: {
            nome: 'Michael D',
            site: 'michael.net.br',
            idade: 28,
            cursos: [
                {
                    nome: 'Laravel',
                    cargaHoraria: '50 Horas'
                },
                {
                    nome: 'Bancos de Dados Relacionais',
                    cargaHoraria: '40 Horas'
                }
            ]
        }
    }

    }); // vm = ViewModel
    */


    </script>
</body>
</html>